<!DOCTYPE html >
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Form Processor</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
	<link rel="stylesheet" href='styles.css'>
</head>

<body class="processor-bg">
	<script type="text/javascript">
		var formData = location.search;
		formData = formData.substring(1, formData.length);
		while (formData.indexOf("+") != -1) {
			formData = formData.replace("+", " ");
		}
		formData = unescape(formData);
		var formArray = formData.split("&");
		var para=new Array();
		var age,color,gender;
		document.addEventListener('DOMContentLoaded', () => {
			let timeLeft = 10;
			const countdownEl = document.getElementById('countdown');
			if (!countdownEl) return console.error('No #countdown element found');

			countdownEl.textContent = timeLeft;
			const timer = setInterval(() => {
				timeLeft -= 1;
				countdownEl.textContent = timeLeft;
				if (timeLeft <= 0) {
				clearInterval(timer);
				window.location.href = 'Home.html';
				}
			}, 1000);
		});
	</script>

	<div class="container text-center center py-1 bg-info-subtle">
		<h1 class="py-2">Thank you for submitting!</h1>
		<h3 class="pb-2">Here are your submitted data:</h3>
		<p>Name : <span id="name"></span></p>
		<p>Age : <span id="age"></span></p>
		<p>Gender : <span id="gender"></span></p>
		<p>Email : <span id="email"></span></p>
		<p>Mobile No : <span id="mobile"></span></p>
		<p>Reason : <span id="reason"></span></p>
		<p>Medical : <span id="medical"></span></p>
		<h3>Redirecting to Home Page <span id="countdown">10</span> seconds...</h3>
	</div>
	
	<script>
		for (var i=0; i < formArray.length; ++i) {
			
			para=formArray[i].split("=");
			
			switch (para[0]) {
				case "name":dd=para[1];
							document.getElementById("name").innerHTML=dd;
							break;
				case "age": document.getElementById("age").innerHTML=para[1];
							break;
				case "gender":
							document.getElementById("gender").innerHTML=para[1];
							gender=para[1];
							break;
				case "email": 
							document.getElementById("email").innerHTML=para[1];
							break;
				case "mobile":	
							document.getElementById("mobile").innerHTML=para[1];
							break;
				case "reason":
							document.getElementById("reason").innerHTML=para[1];
							break;
				case "medical":
							if (para[1] == ''){
								var value = 'None';
							}
							else{
								var value = para[1];
							}
							document.getElementById("medical").innerHTML=value;
							break;
			
			}
			
		}
		setGender();
		setColor(color);
	</script>
</body>
</html>

